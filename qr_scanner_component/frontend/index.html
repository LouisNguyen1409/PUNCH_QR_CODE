<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  <style>
    body { margin: 0; padding: 0; }
    #reader { width: 100%; border-radius: 8px; overflow: hidden; }
  </style>
</head>
<body>
  <div id="reader"></div>
  <script>
    // --- Audio Data (Filled by Python script previously, or placeholders if not) ---
    // Note: Since I am overwriting the file, I need to make sure the Base64 data is preserved.
    // The previous Python command already wrote the Base64 data into the file, but now I am overwriting it with this template.
    // I MUST RE-INJECT THE AUDIO DATA.
    
    // Placeholder - will be replaced by the Python script again below
    
    const audioOK = new Audio("data:audio/mp3;base64,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");
    const audioSAI = new Audio("data:audio/mp3;base64,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");
    window.audioOK = audioOK;
    window.audioSAI = audioSAI;
 
    // const audioSAI = ...

    // --- Streamlit Boilerplate ---
    function sendMessageToStreamlitClient(type, data) {
      var outData = Object.assign({
        isStreamlitMessage: true,
        type: type,
      }, data);
      parent.postMessage(outData, "*");
    }

    function setComponentValue(value) {
      sendMessageToStreamlitClient("streamlit:setComponentValue", {value: value});
    }

    function onReady() {
      sendMessageToStreamlitClient("streamlit:componentReady", {apiVersion: 1});
    }

    function setFrameHeight(height) {
      sendMessageToStreamlitClient("streamlit:setFrameHeight", {height: height});
    }

    // --- QR Scanner Logic ---
    const html5QrCode = new Html5Qrcode("reader");
    let isScanning = false; // Start false, wait for render event
    let expectedMatch = null;

    const config = { 
      fps: 10, 
      qrbox: { width: 250, height: 250 },
      aspectRatio: 1.0 
    };

    function startScanner() {
        if (isScanning) return;
        isScanning = true;
        
        html5QrCode.start(
          { facingMode: "environment" }, 
          config, 
          (decodedText, decodedResult) => {
            // Success Callback
            if (isScanning) {
              isScanning = false;
              
              // CLIENT-SIDE AUDIO LOGIC
              if (expectedMatch) {
                 // We have an expected value (Step 2)
                 if (decodedText.trim() === expectedMatch.trim()) {
                     if (window.audioOK) window.audioOK.play();
                 } else {
                     if (window.audioSAI) window.audioSAI.play();
                 }
              } else {
                 // First scan (Step 1)
                 // Optional: Beep
              }
    
              // Stop scanning and send value
              html5QrCode.stop().then(() => {
                setComponentValue(decodedText);
              }).catch((err) => {
                 console.error("Failed to stop", err);
                 setComponentValue(decodedText);
              });
            }
          },
          (errorMessage) => {
            // Error Callback
          }
        ).catch(err => {
          console.error("Error starting scanner", err);
        });
    }

    // --- Handle Streamlit Events ---
    function onDataUpdate(event) {
        if (event.data.type !== "streamlit:render") return;
        
        const args = event.data.args; // Arguments passed from Python
        if (args.expected_match) {
            expectedMatch = args.expected_match;
        } else {
            expectedMatch = null;
        }
        
        // Start scanner only after we receive the config
        startScanner();
        setFrameHeight(400);
    }

    window.addEventListener("message", onDataUpdate);
    window.addEventListener("load", function() {
      onReady();
    });

  </script>
</body>
</html>
